
:root{
  --bg1:#8fd3ff;
  --bg2:#a98bff;
  --glass: rgba(255,255,255,.22);
  --glass2: rgba(255,255,255,.16);
  --line: rgba(255,255,255,.28);
  --text: rgba(12,18,28,.86);
  --muted: rgba(12,18,28,.58);
  --white: rgba(255,255,255,.96);
  --card: rgba(80,96,150,.55);
}

*{ box-sizing:border-box; }
html,body{
  -webkit-font-smoothing: antialiased;
  text-rendering: geometricPrecision;
 height:100%; }
body{
  -webkit-font-smoothing: antialiased;
  text-rendering: geometricPrecision;

  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  color: var(--text);
  overflow-x:hidden;
}

.bg{
  position:fixed; inset:0;
  background:
    radial-gradient(1200px 800px at 25% 20%, rgba(255,255,255,.35), transparent 55%),
    radial-gradient(900px 700px at 80% 65%, rgba(255,255,255,.22), transparent 55%),
    linear-gradient(180deg, var(--bg1), var(--bg2));
  filter:saturate(1.08);
  z-index:-2;
}
.bg::after{
  content:"";
  position:absolute; inset:0;
  background:
    radial-gradient(circle at 20% 35%, rgba(255,255,255,.22) 0 6px, transparent 7px 100%),
    radial-gradient(circle at 70% 60%, rgba(255,255,255,.16) 0 7px, transparent 8px 100%),
    radial-gradient(circle at 45% 80%, rgba(255,255,255,.14) 0 6px, transparent 7px 100%);
  opacity:.55;
  z-index:-1;
}

.app{
  min-height:100vh;
  padding: 14px 14px 92px; /* bottom nav space */
}

.topbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  padding-top:6px;
  padding-bottom:8px;
}

.brand{
  display:flex;
  align-items:center;
  gap:10px;
  padding:0;
  background:transparent; /* no gray box */
}
.brandLogo{
  width:34px; height:34px;
  border-radius:10px;
}
.brandName{
  font-weight:800;
  letter-spacing:.2px;
  font-size:20px;
}

.soundPill{
  display:flex;
  align-items:center;
  gap:10px;
  padding:10px 12px;
  border-radius:999px;
  border:1px solid var(--line);
  background: var(--glass);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}
.soundIcon{ font-size:16px; }
.soundLabel{ font-weight:700; }
.switch{
  width:44px;height:24px;
  border-radius:999px;
  background: rgba(255,255,255,.4);
  position:relative;
  border:1px solid rgba(255,255,255,.35);
}
.knob{
  width:20px;height:20px;
  border-radius:999px;
  background: rgba(255,255,255,.95);
  position:absolute; top:1px; left:1px;
  transition: transform .18s ease;
}
.soundPill[data-on="false"] .knob{ transform: translateX(20px); }
.soundPill[data-on="false"] .switch{ background: rgba(255,255,255,.22); }

.iconBtn{
  width:44px;height:44px;
  border-radius:999px;
  border:1px solid var(--line);
  background: var(--glass);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  font-size:18px;
}

.main{
  display:flex;
  flex-direction:column;
  gap:12px;
}

.screen{ display:none; }
.screen--active{ display:block; }

/* If JS fails, we surface a small readable error message instead of a blank screen. */
.fatal{
  position: fixed;
  left: 12px;
  right: 12px;
  top: 12px;
  z-index: 9999;
  padding: 10px 12px;
  border-radius: 14px;
  background: rgba(20, 20, 30, 0.72);
  border: 1px solid rgba(255,255,255,0.18);
  color: rgba(255,255,255,0.92);
  font-size: 13px;
  line-height: 1.25;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

.card{
  border:1px solid var(--line);
  background: var(--glass2);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border-radius:24px;
  box-shadow: 0 18px 40px rgba(0,0,0,.12);
}

.pad{ padding:16px; }

.spinArea{
  display:flex;
  flex-direction:column;
  align-items:center;
  padding: 10px 6px 2px;
}

.wheel{
  width:min(74vw, 320px);
  height:min(74vw, 320px);
  border-radius:999px;
  border:none;
  background: conic-gradient(#ff4fd8, #ffb341, #ffe44d, #5bff7b, #1be5ff, #6c7bff, #ff4fd8);
  position:relative;
  box-shadow: 0 18px 50px rgba(0,0,0,.18);
  margin-top: 8px;
}
.wheelRing{
  position:absolute; inset:10px;
  border-radius:999px;
  border: 4px solid rgba(255,255,255,.44);
}
.spinWheel{
  width:min(74vw, 320px);
  height:min(74vw, 320px);
  border-radius:999px;
  border:none;
  background: conic-gradient(#ff4fd8, #ffb341, #ffe44d, #5bff7b, #1be5ff, #6c7bff, #ff4fd8);
  position:relative;
  box-shadow: 0 18px 50px rgba(0,0,0,.18);
  margin-top: 8px;
}

.wheelText{
  position:absolute; inset:0;
  display:flex; align-items:center; justify-content:center;
  font-size: clamp(44px, 12vw, 72px);
  font-weight:900;
  color: rgba(255,255,255,.92);
  letter-spacing:2px;
  text-shadow: 0 8px 22px rgba(0,0,0,.25);
}
.spinText{
  position:absolute; inset:0;
  display:flex; align-items:center; justify-content:center;
  font-size: clamp(44px, 12vw, 72px);
  font-weight:900;
  color: rgba(255,255,255,.92);
  letter-spacing:2px;
  text-shadow: 0 8px 22px rgba(0,0,0,.25);
}

.wheel.isSpinning{ animation: spin .95s cubic-bezier(.2,.9,.2,1); }
.spinWheel.isSpinning{ animation: spin .95s cubic-bezier(.2,.9,.2,1); }
@keyframes spin{ from{ transform:rotate(0deg) scale(1);} to{ transform:rotate(780deg) scale(1.02);} }

.micro{
  font-size:22px;
  font-weight:800;
  margin-top: 16px; /* space from wheel */
  text-align:center;
}
.matches{
  margin-top:6px;
  font-size:16px;
  color: var(--muted);
}

.facesRow{
  display:flex;
  gap:10px;
  margin-top:14px;
  width:100%;
  max-width: 520px;
  justify-content:space-between;
}
.face{
  flex:1;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  padding: 12px 10px;
  border-radius:18px;
  border:1px solid var(--line);
  background: rgba(255,255,255,.16); /* no container behind */
  color: rgba(12,18,28,.78);
  font-weight:800;
}
.face .emoji{ font-size:18px; }
.face--active{
  background: rgba(255,255,255,.28);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.25);
}

.dotsCard{
  margin-top: 14px;
  padding: 14px;
}
.cardTitle{
  font-weight:900;
  font-size:16px;
}
.muted{ color: var(--muted); }
.dotsBox{
  margin-top: 10px;
  min-height: 46px;
  border-radius: 18px;
  border: 1px dashed rgba(255,255,255,.28);
}

.bottomNav{
  position:fixed;
  left:50%;
  transform: translateX(-50%);
  bottom: 14px;
  width: min(520px, calc(100vw - 28px));
  padding: 10px;
  border-radius: 22px;
  border:1px solid var(--line);
  background: rgba(255,255,255,.18);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  display:flex;
  gap:10px;
  z-index:10;
}
.navBtn{
  flex:1;
  border:none;
  background: rgba(255,255,255,.14);
  border:1px solid rgba(255,255,255,.24);
  border-radius: 18px;
  padding: 12px 10px;
  font-weight:900;
  color: rgba(12,18,28,.78);
  display:flex;
  gap:8px;
  justify-content:center;
  align-items:center;
}
.navBtn--active{
  background: rgba(255,255,255,.28);
}

.activityGame{
  width: min(560px, 100%);
  margin: 10px auto 0;
  padding: 26px 22px 20px;
  background: linear-gradient(180deg, rgba(70,80,135,.62), rgba(120,70,200,.52));
  border:1px solid rgba(255,255,255,.28);
  border-radius: 30px;
  color: var(--white);
  text-align:center;
  min-height: min(70vh, 560px);
  display:flex;
  flex-direction:column;
  justify-content:space-between; /* spread content */
}
.lanePill{
  align-self:center;
  padding: 8px 14px;
  border-radius: 999px;
  border:1px solid rgba(255,255,255,.28);
  background: rgba(255,255,255,.10);
  font-weight:900;
  letter-spacing: 3px;
  font-size: 12px;
  opacity: .95;
}
.activityTitle{
  margin-top: 12px;
  font-weight: 1000;
  font-size: clamp(40px, 10vw, 56px);
  line-height: 1.0;
  letter-spacing: .6px;
  text-transform: uppercase;
}
.activityDesc{
  margin: 10px auto 0;
  max-width: 28ch;
  font-size: 22px;
  line-height: 1.35;
  opacity: .95;
}
.readyLine{
  font-weight:900;
  font-size:22px;
  opacity:.85;
  margin-top: 8px;
}
.startBtn{
  -webkit-font-smoothing: antialiased;
  transform: translateZ(0);

  margin: 12px auto 0;
  width: 100%;
  max-width: 420px;
  padding: 18px 18px;
  border:none;
  border-radius: 999px;
  font-size: 26px;
  font-weight: 1000;
  color: rgba(255,255,255,.96);
  background: linear-gradient(90deg, #ffb12c, #ff4fa6);
  box-shadow: 0 18px 40px rgba(0,0,0,.18);
}
.spinAgainLink{
  margin: 10px auto 0;
  border:none;
  background: transparent;
  color: rgba(255,255,255,.78);
  font-weight: 900;
  font-size: 18px;
  text-decoration: underline;
  text-underline-offset: 6px;
}
.spinAgainLink[disabled]{
  opacity:.55;
  text-decoration:none;
}
.metaLine{
  margin-top: 16px;
  font-weight: 800;
  opacity: .55;
  letter-spacing: .2px;
}

.hdrBig{ font-weight:1000; font-size:26px; margin-bottom:6px; }
.subHdr{ margin-top: 18px; font-weight:1000; font-size:18px; }

.stats{
  display:grid;
  grid-template-columns: repeat(3,1fr);
  gap:10px;
  margin-top: 14px;
}
.stat{
  background: rgba(255,255,255,.16);
  border:1px solid rgba(255,255,255,.26);
  border-radius: 18px;
  padding: 12px 10px;
  text-align:center;
}
.statNum{ font-weight:1000; font-size:22px; }
.statLbl{ color: var(--muted); font-weight:800; font-size:12px; }

.filterBlock{ margin-top: 14px; }
.filterLabel{ font-weight:1000; margin-bottom:8px; }
.seg{ display:flex; gap:8px; flex-wrap:wrap; }
.segBtn{
  flex:1;
  min-width: 72px;
  border-radius: 14px;
  border:1px solid rgba(255,255,255,.26);
  background: rgba(255,255,255,.12);
  padding: 10px 10px;
  font-weight:900;
  color: rgba(12,18,28,.76);
}
.segBtn--active{ background: rgba(255,255,255,.26); }

.checkRow{
  display:flex; gap:10px; align-items:center;
  font-weight:900;
}

.btnPrimary{
  border:none;
  border-radius: 18px;
  padding: 14px 14px;
  font-weight:1000;
  font-size: 18px;
  color: rgba(255,255,255,.95);
  background: linear-gradient(90deg, #27d6ff, #45ff9c);
  box-shadow: 0 16px 34px rgba(0,0,0,.14);
}
.btnGhost{
  border:1px solid rgba(255,255,255,.26);
  border-radius: 18px;
  padding: 14px 14px;
  font-weight:1000;
  font-size: 18px;
  background: rgba(255,255,255,.10);
  color: rgba(255,255,255,.92);
}
.btnFull{ width:100%; margin-top:10px; }
.progressBtns{ width:100%; max-width:420px; margin: 0 auto; }

.doneCard{ padding:18px; text-align:center; }
.doneTitle{ font-weight:1000; font-size:28px; margin-bottom:6px; color: rgba(12,18,28,.86); }
.doneButtons{ display:flex; flex-direction:column; gap:10px; margin-top: 14px; }
.btnAlt{ background: linear-gradient(90deg, #27d6ff, #45ff9c); }
.btnAlt2{ background: linear-gradient(90deg, #ffb12c, #ff4fa6); }

.countdownOverlay{
  position:fixed; inset:0;
  background: rgba(10,14,24,.42);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  display:none;
  align-items:center;
  justify-content:center;
  z-index: 50;
}
.countdownOverlay.isOn{ display:flex; }
.countNum{
  font-size: 120px;
  font-weight: 1000;
  color: rgba(255,255,255,.96);
  text-shadow: 0 18px 44px rgba(0,0,0,.35);
}


/* Busy feedback for 'Spin again' */
.spinAgain.isBusy{
  position: relative;
  opacity: 0.75;
}
.spinAgain.isBusy::after{
  content: "â€¦";
  display: inline-block;
  margin-left: 6px;
  animation: dots 900ms infinite;
}
@keyframes dots{
  0%{opacity:0.2}
  50%{opacity:1}
  100%{opacity:0.2}
}

/* Confetti / fireworks */
.doneCard{ position: relative; overflow: hidden; }
.confettiLayer{
  position:absolute; inset:0;
  pointer-events:none;
}
.confettiPiece{
  position:absolute;
  top: 45%;
  border-radius: 3px;
  animation-name: confettiFall;
  animation-timing-function: cubic-bezier(.2,.8,.2,1);
  animation-fill-mode: forwards;
}
@keyframes confettiFall{
  0%{ transform: translateY(0) rotate(0deg); opacity: 0;}
  10%{opacity:1;}
  100%{ transform: translateY(420px) rotate(540deg); opacity: 0;}
}
